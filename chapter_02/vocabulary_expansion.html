<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talyx Chapter 2 - Vocabulary Expansion</title>
    <link rel="stylesheet" href="../styles/vocabulary_cards.css">
</head>
<body>
    <div class="talyx-container">
        <header class="chapter-header">
            <h1>Chapter 2: Detective Marie - Stolen Wallet</h1>
            <p class="chapter-subtitle">Extended Vocabulary with Audio</p>
        </header>

        <section class="vocabulary-section">
            <h2>New Vocabulary</h2>
            
            <div class="vocabulary-card" data-word="portefeuille">
                <div class="vocabulary-word">
                    ğŸ’³ portefeuille 
                    <button class="audio-btn" onclick="playWord('portefeuille')">ğŸ”Š</button>
                </div>
                <div class="vocabulary-translation">= peÅˆaÅ¾enka</div>
                <div class="vocabulary-example">
                    "Le portefeuille a disparu"
                    <div class="audio-controls">
                        <button class="audio-btn" onclick="playSentence('Le portefeuille a disparu')">ğŸ”Š Play</button>
                        <button class="audio-btn slow" onclick="playSentenceSlow('Le portefeuille a disparu')">ğŸŒ Slow</button>
                    </div>
                </div>
            </div>

            <div class="vocabulary-card" data-word="voleur">
                <div class="vocabulary-word">
                    ğŸ¥· voleur 
                    <button class="audio-btn" onclick="playWord('voleur')">ğŸ”Š</button>
                </div>
                <div class="vocabulary-translation">= zlodej</div>
                <div class="vocabulary-example">
                    "Le voleur court dans la rue"
                    <div class="audio-controls">
                        <button class="audio-btn" onclick="playSentence('Le voleur court dans la rue')">ğŸ”Š Play</button>
                        <button class="audio-btn slow" onclick="playSentenceSlow('Le voleur court dans la rue')">ğŸŒ Slow</button>
                    </div>
                </div>
            </div>

            <div class="vocabulary-card" data-word="enquÃªte">
                <div class="vocabulary-word">
                    ğŸ“‹ enquÃªte 
                    <button class="audio-btn" onclick="playWord('enquÃªte')">ğŸ”Š</button>
                </div>
                <div class="vocabulary-translation">= vyÅ¡etrovanie</div>
                <div class="vocabulary-example">
                    "L'enquÃªte commence maintenant"
                    <div class="audio-controls">
                        <button class="audio-btn" onclick="playSentence('L\\'enquÃªte commence maintenant')">ğŸ”Š Play</button>
                        <button class="audio-btn slow" onclick="playSentenceSlow('L\\'enquÃªte commence maintenant')">ğŸŒ Slow</button>
                    </div>
                </div>
            </div>

            <div class="vocabulary-card" data-word="tÃ©moin">
                <div class="vocabulary-word">
                    ğŸ‘ï¸ tÃ©moin 
                    <button class="audio-btn" onclick="playWord('tÃ©moin')">ğŸ”Š</button>
                </div>
                <div class="vocabulary-translation">= svedok</div>
                <div class="vocabulary-example">
                    "Le tÃ©moin a tout vu"
                    <div class="audio-controls">
                        <button class="audio-btn" onclick="playSentence('Le tÃ©moin a tout vu')">ğŸ”Š Play</button>
                        <button class="audio-btn slow" onclick="playSentenceSlow('Le tÃ©moin a tout vu')">ğŸŒ Slow</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="review-section">
            <h2>Review Previous Vocabulary</h2>
            
            <div class="vocabulary-card review" data-word="tÃ©lÃ©phone">
                <div class="vocabulary-word">
                    ğŸ“± tÃ©lÃ©phone (Review)
                    <button class="audio-btn" onclick="playWord('tÃ©lÃ©phone')">ğŸ”Š</button>
                </div>
                <div class="vocabulary-example">
                    "Marie cherche son tÃ©lÃ©phone"
                    <div class="audio-controls">
                        <button class="audio-btn" onclick="playSentence('Marie cherche son tÃ©lÃ©phone')">ğŸ”Š Play</button>
                        <button class="audio-btn slow" onclick="playSentenceSlow('Marie cherche son tÃ©lÃ©phone')">ğŸŒ Slow</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="../js/audio_controller.js"></script>
    <script>
        // Enhanced audio integration with progress tracking
        function playWord(word) {
            const button = event.target;
            button.classList.add('playing');
            
            talyxAudio.speak(word, 'fr-FR', 1.0, () => {
                button.classList.remove('playing');
                // Track vocabulary practice
                console.log(`Vocabulary practiced: ${word}`);
            });
        }

        function playSentence(sentence) {
            const button = event.target;
            button.classList.add('playing');
            
            talyxAudio.speak(sentence, 'fr-FR', 1.0, () => {
                button.classList.remove('playing');
            });
        }

        function playSentenceSlow(sentence) {
            const button = event.target;
            button.classList.add('playing');
            
            talyxAudio.speak(sentence, 'fr-FR', 0.7, () => {
                button.classList.remove('playing');
            });
        }
    </script>
</body>
</html>
